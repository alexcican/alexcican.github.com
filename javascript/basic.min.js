$(document).ready(function(){var width=(window.innerWidth>0)?window.innerWidth:screen.width,touchDevice=!1;adjustHeight();if(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent))
touchDevice=!0;if(touchDevice){var viewportmeta=document.querySelectorAll('meta[name="viewport"]')[0];if(viewportmeta){viewportmeta.content='width=device-width, minimum-scale=1.0, maximum-scale=1.0';document.body.addEventListener('gesturestart',function(){viewportmeta.content='width=device-width, minimum-scale=0.25, maximum-scale=1.6'},!1)}
$('.sliderButton').addClass('hidden');$('#intro').css('background-size','105%');function doOnOrientationChange(){switch(window.orientation){case-90:case 90:$('#intro').css('background-size','50%');break;default:if(width<600){$('#intro').css('background-size','105%')}else{$('#intro').css('background-size','auto')}
break}}
window.addEventListener('orientationchange',doOnOrientationChange)}
if(navigator.userAgent.match(/IEMobile\/10\.0/)){var msViewportStyle=document.createElement("style");msViewportStyle.appendChild(document.createTextNode("#intro{background: url('./images/bg@2x.jpg') 50% 0 no-repeat}.noScroll #mainNav.expanded{background: rgba(0,0,0,.95)}.cover{width: 100%}}"));document.getElementsByTagName("head")[0].appendChild(msViewportStyle)}
var previousScroll=0,menuOffset=90,detachPoint=850,hideShowOffset=6;$(window).scroll(function(){var currentScroll=$(this).scrollTop(),pageHeight=document.body.offsetHeight,scrolledWindowHeight=window.innerHeight+window.scrollY,scrollDifference=Math.abs(currentScroll-previousScroll);clearTimeout($.data(this,'scrollTimer'));$.data(this,'scrollTimer',setTimeout(function(){$('#fullWidthContainer, #fullWidthDemoContainer').addClass('notScrolling')},120));if((currentScroll<=0)||(scrolledWindowHeight>=pageHeight-200)){}else{if(scrollDifference>=35){$('#fullWidthContainer, #fullWidthDemoContainer').removeClass('notScrolling')}}
if(!$('#mainNav').hasClass('expanded')){if(currentScroll>menuOffset){if(currentScroll>detachPoint){if(!$('#mainNav').hasClass('detached'))
$('#mainNav').addClass('detached')}
if(scrollDifference>=hideShowOffset){if(currentScroll>previousScroll){if(!$('#mainNav').hasClass('invisible'))
$('#mainNav').addClass('invisible')}else{if($('#mainNav').hasClass('invisible'))
$('#mainNav').removeClass('invisible')}}}else{if(currentScroll<=0){$('#mainNav').removeClass()}}
if((scrolledWindowHeight)>=pageHeight){$('#mainNav').removeClass('invisible')}
previousScroll=currentScroll}})
$('#mainNav').on('click touchstart',function(e){showHideNav();e.preventDefault()})
$('#navigation section, #navigation .heading, #navigation .subheading, #navigation .menu_label').on('click touchstart',function(e){e.stopPropagation()})
function showHideNav(){if($('#mainNav').hasClass('expanded')){hideNav()}else{showNav()}}
var windows=!1;if(navigator.appVersion.indexOf("Win")!=-1)windows=!0;function showNav(){$('#mainNav').removeClass('invisible').addClass('expanded');window.setTimeout(function(){$('#container').addClass('blurred')},40);$('#navigation a').attr('tabindex','');$('#fullWidthContainer').removeClass('notScrolling');if(windows){$('body').width($('body').width());$('body').css('overflow','hidden')}else{window.setTimeout(function(){$('body').addClass('noScroll')},200)}}
function hideNav(){$('#container').removeClass('blurred');$('#mainNav').addClass('transition');window.setTimeout(function(){$('body').removeClass('noScroll').removeAttr('style')},50);window.setTimeout(function(){$('#mainNav').removeClass('transition').removeClass('expanded')},200);$('.menuIcon').blur();$('#fullWidthContainer').addClass('notScrolling')}
$('.siteLinks a').on('click touchstart',function(){$(this).addClass('spinnerSmall')})
var adjustedScreenBefore=!1;function adjustHeight(){if(adjustedScreenBefore){}else{var width=(window.innerWidth>0)?window.innerWidth:screen.width,height=(window.innerHeight>0)?window.innerHeight:screen.height;if(width<768){padding=height/1.9}else if(width>767&&width<1024){padding=height/2.2}else if(width>1024&&width<1450){padding=height/2.85}else if(width>1450&&width<1920){padding=height/2.4}else{padding=height/2.2}
$("#intro").css("height",height);$("#intro div").css("padding-top",padding);$(".bg-image").css('top',padding-430);if(height>670&&height<750){$('#navigation').addClass('reduceNavHeight').removeClass('reduceMoreNavHeight')}else if(height>620&&height<670){$('#navigation').addClass('reduceMoreNavHeight').removeClass('smallestNavHeight')}else if(height<620){$('#navigation').addClass('smallestNavHeight')}else{$('#navigation').removeClass()}
adjustedScreenBefore=!0}}
$(window).resize(function(){adjustedScreenBefore=!1;adjustHeight()})
var container,scrolling=!1;$('#fullWidthContainer section').on('click touchend',function(e){container=$(this);if(e.metaKey||e.ctrlKey||e.shiftKey){}else{openBlogSection()}})
$('#fullWidthContainer section').on('touchmove',function(e){scrolling=!0});$('#fullWidthContainer section').on('touchend',function(e){scrolling=!1});function openBlogSection(){if(scrolling!=!0){var positionScreen=container.offset().top-$(window).scrollTop();container.addClass('magnify');$('#fullWidthContainer').addClass('clickedBlogLink');$('body').addClass('noScroll');$('.magnify').css('transform','translateY(-'+positionScreen+'px)');window.setTimeout(function(){$('.spinner').removeClass('hidden')},500)}}
$(document).on("page:restore",function(){var currentPage=window.location.pathname;if((currentPage==='/blog.html')||(currentPage==='/blog/')||(currentPage=='/blog')){$('.magnify').removeAttr('style');$('.spinner').addClass('hidden');$('body').removeClass('noScroll');$('#fullWidthContainer').removeClass('clickedBlogLink');container.removeClass('magnify')}
$('.animateOnFirstLoad').removeClass('animateOnFirstLoad')})
$('#slider img').bind('contextmenu',function(e){return!1})
$('.next').click(function(){$('.swipe-wrap div').removeClass('slideVisible');$('.swipe-wrap div').eq(mySwipe.getPos()).addClass('slideVisible');$('.slideVisible').next().addClass('preload');preloadImage()})
$('.previous').click(function(){$('.swipe-wrap div').removeClass('slideVisible');$('.swipe-wrap div').eq(mySwipe.getPos()).addClass('slideVisible');$('.slideVisible').prev().addClass('preload');preloadImage()})
function preloadImage(){var image=$('.preload img');image.attr("src",image.attr("data-src"));image.removeAttr("data-src");image.parent().removeClass('preload')}
$('.twitter_button').hover(function(){$(this).addClass('pulse')},function(){$(this).removeClass('pulse')})
$('#readMore').hover(function(){$(this).find('link').attr('rel','prerender')})
var windowFocus=!0;$(window).focus(function(){windowFocus=!0}).blur(function(){windowFocus=!1});$(document).keydown(function(e){if(windowFocus){if($("#mainNav .menuIcon").is(":focus")){if(e.keyCode===13||e.keyCode===32){showHideNav();e.preventDefault()}}
if(e.metaKey||e.ctrlKey||e.shiftKey){}else{if(e.keyCode===27||e.keyCode===77){showHideNav();e.preventDefault()}
if(e.keyCode===37){if(typeof mySwipe!='undefined')
if(!$('body').hasClass('noScroll'))
$(".previous").trigger("click")}
if(e.keyCode===39){if(typeof mySwipe!='undefined')
if(!$('body').hasClass('noScroll'))
$(".next").trigger("click")}
if(e.keyCode===72){window.location=$(".home").attr("href")}
if(e.keyCode===87){window.location=$(".work").attr("href")}
if(e.keyCode===66){window.location=$(".blog").attr("href")}
if(e.keyCode===80){window.location=$(".photos").attr("href")}
if(e.keyCode===76){window.location=$(".lab").attr("href")}
if(e.keyCode===69){window.location=$(".email").attr("href")}}}})})